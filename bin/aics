#!/usr/bin/env node

var PackageManager = require('../lib/package');
var AccountManager = require('../lib/account');
var UpdateManager = require('../lib/update');
var ProjectManager = require('../lib/project');


var controller = process.argv[2];
var havc = false;
if(controller == "package"){
  if(process.argv[3] == "create"){
      havc = true;
      if(process.argv[4]){
          PackageManager.create(process.argv[4]);
      }else{
         console.log("need a package name like 'aics package create account-base'");
      }
  }else if(process.argv[3] == "publish"){
      havc = true;
      PackageManager.publish();
  }
}else if(controller == "adduser"){
    havc = true;
    if(process.argv[3]){
       AccountManager.adduser(process.argv[3]);
    }else{
       console.log("error , like 'aics adduser fami@163.com'");
    }
    
}else if(controller == "update"){
    havc = true;
    UpdateManager.update();
}else if(controller == "add"){
    havc = true;
    UpdateManager.add(process.argv[3]);
}else if(controller == "project"){

    if(process.argv[3] == "init"){
        ProjectManager.init(process.argv[4]);
        havc = true;
    }
}

if(!havc){
 
  console.log("============================ aics helps =================================");
  console.log("package create [package name]           create a aics package with template");
  console.log("package publish                         publish aics package to code-depot.cc");
  console.log("adduser                                 set account info for localtion");
  console.log("update                                  setup dependencies code packages in my package or project");
  console.log("project init [project name]             create a aics project with some code packages here with template");
  console.log("add [package name]              add some code packages in package or project");
  console.log("==========================================================================");
  
}